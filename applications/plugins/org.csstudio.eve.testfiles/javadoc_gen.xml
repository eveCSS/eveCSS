<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="javadoc" basedir="../"> <!-- base directory is eveCSS -->

  <description>
  	Ant File for Building JavaDoc...
  </description>

  <property name="home_dir" location="../../../.." />
  <property name="repo_dir" location="../../../" />
  <property name="eclipse_dir" location="/opt/eclipse/eclipse-rcp-indigo-SR1/eclipse" />
  <property name="target_dir" location="${home_dir}/eveCSS2-docs/api/files/eveCSS" />
  <property name="css_core_dir" location="${repo_dir}/cs-studio-3.0/core/plugins" />
  <property name="css_app_dir" location="${repo_dir}/cs-studio-3.0/applications/plugins" />
  <property name="eve1_dir" location="${home_dir}/eveCSS" />

  <target name="clean" description="delete (old) javadoc files">
      <echo message="deleting (old) javadoc files" />
      <delete dir="${target_dir}" />
      <echo message="old files deleted" />
  </target> 

  <target name="javadoc" depends="clean">
  	<echo message="creating api doc directory" />
  	<mkdir dir="${target_dir}" />
  
    <echo message="home_dir: ${home_dir}"/>
    <echo message="repo_dir: ${repo_dir}"/>
    <echo message="eclipse_dir: ${eclipse_dir}"/>
    <echo message="target_dir: ${target_dir}"/>
    <echo message="css_core_dir: ${css_core_dir}"/>
    <echo message="css_app_dir: ${css_app_dir}"/>
    <echo message="eve1_dir: ${eve1_dir}"/>
  
    <javadoc
      destdir="${target_dir}"
      access="public"
      author="true"
      version="true"
      use="true"
      windowtitle="eveCSS API"
      linksource="no">
   	
      <classpath>
    	<pathelement path="${classpath}"/>
    	<fileset dir="${eclipse_dir}/plugins">
    	  <include name="**/*.jar"/>
    	</fileset>
    	
    	<dirset dir="${css_core_dir}">
    	  <include name="**/bin"/>
    	</dirset>
    	
    	<dirset dir="${css_app_dir}">
    	  <include name="**/bin"/>
    	</dirset>
    	
    	<pathelement location="${css_core_dir}/org.csstudio.platform.libs.epics/lib/caj-1.1.7.jar" />
    	<pathelement location="${css_core_dir}/org.csstudio.platform.libs.epics/lib/jca-2.3.5.jar" />
    	<pathelement location="${css_core_dir}/org.csstudio.platform.libs.dal/lib/java-common-4.0.1-SNAPSHOT.jar" />
    	<pathelement location="${css_core_dir}/org.csstudio.platform/lib/jdom.jar" />
    	<pathelement location="${css_core_dir}/org.csstudio.platform.libs.jms/libs/activemq-all-5.1.0.jar" />
    	
    	<pathelement location="${css_core_dir}/org.csstudio.platform.libs.dal/lib/log4j-1.2.16.jar" />
      </classpath>
	
      <packageset dir="org.csstudio.eve.data/src" defaultexcludes="yes" />
      <packageset dir="org.csstudio.eve.ecp1/src" defaultexcludes="yes" />
      <packageset dir="org.csstudio.eve.editor/src" defaultexcludes="yes" />
      <packageset dir="org.csstudio.eve.viewer/src" defaultexcludes="yes" />
      <packageset dir="org.csstudio.eve.preferences/src" defaultexcludes="yes" />
      
      <packageset dir="org.csstudio.eve.data.tests/src" defaultexcludes="yes" />
      <packageset dir="org.csstudio.eve.editor.tests/src" defaultexcludes="yes" />

      <doctitle><![CDATA[<h1>eveCSS 2.0</h1>]]></doctitle>
      <bottom>
        <![CDATA[<i>Copyright &#169; 2011 Physikalisch-Technische Bundesanstalt.</i>]]>
      </bottom>
       
      <tag name="precondition" scope="all" description="Precondition:"/>
      <tag name="postcondition" scope="all" description="Postcondition:"/>
      <tag name="uml.dependency" scope="all" enabled="false" />
      <tag name="uml.property" scope="all" enabled="false" />
      <tag name="uml.associationEnd" scope="all" enabled="false" />
	
      <group title="EVE Data Model" packages="de.ptb.epics.eve.data*"/>
      <group title="NMP &lt;-&gt; ECP" packages="de.ptb.epics.eve.ecp1*"/>
      <group title="EVE Editor" packages="de.ptb.epics.eve.editor*"/>
      <group title="EVE Viewer" packages="de.ptb.epics.eve.viewer*"/>

      <group title="Tests" 
      		 packages="de.ptb.epics.eve.data.measuringstation.filter.tests*,de.ptb.epics.eve.data.measuringstation.tests*,de.ptb.epics.eve.data.tests*,de.ptb.epics.eve.data.tests.internal.*,de.ptb.epics.eve.data.scandescription.tests*,de.ptb.epics.eve.data.measuringstation.processors.tests*,de.ptb.epics.eve.data.scandescription.processors.tests*,de.ptb.epics.eve.editor.tests*" />

      <group title="apache" packages="org.apache.*" />
      
      <group title="SWT" packages="org.eclipse.swt.*" />
    
      <link offline="true" href="http://download.oracle.com/javase/6/docs/api" 
        packagelistLoc="${eve1_dir}/docs/api/jdk-6u23/docs/api/"/> 
      <link offline="true" href="http://download.oracle.com/javaee/6/api" 
        packagelistLoc="${eve1_dir}/docs/api/j2ee-6.0.1/" />
      <link offline="true" href="http://logging.apache.org/log4j/1.2/apidocs"
        packagelistLoc="${eve1_dir}/docs/api/log4j/" />
      <link offline="true" href="http://kentbeck.github.com/junit/javadoc/latest/"
      	packagelistLoc="${eve1_dir}/docs/api/junit-4.8.2" />
        
      <link offline="true" href="http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.platform.doc.isv/reference/api/"
        packagelistLoc="${home_dir}/eveCSS2-docs/api/files/eclipse/" />
      <link offline="true" href="http://sourceforge.net/apps/trac/cs-studio/"
        packagelistLoc="${home_dir}/eveCSS2-docs/api/files/css/" />
            
    </javadoc>
  </target>
</project>