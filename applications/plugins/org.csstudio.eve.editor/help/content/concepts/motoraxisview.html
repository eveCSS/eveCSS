<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>motoraxisview</title><link type="text/css" rel="stylesheet" href="PLUGINS_ROOT/de.ptb.epics.eve.editor/help/css/editor.css"/></head><body><h1 id="top" class="eveTopic|">Motor Axis View</h1><ol class="toc" style="list-style: circle;"><li><a href="#top">Motor Axis View</a><ol style="list-style: circle;"><li><a href="#Addnumerical">Add (numerical)</a></li><li><a href="#AddmsecTimer">Add (msec Timer)</a></li><li><a href="#AdddateTimer">Add (date Timer)</a></li><li><a href="#Multiply">Multiply</a></li><li><a href="#File">File</a></li><li><a href="#Positionlist">Positionlist</a></li><li><a href="#Range">Range</a></li><li><a href="#Plugin">Plugin </a></li></ol></li></ol><p>The Motor Axis View displays (and allows to modify) properties of an axis. The axis being shown is the one selected in the <a href="scanmoduleview.html">Scan Module View</a>. Additionally (if available) the current position and limits of the axis are displayed at the top.</p><p>A motor axis has different modes (called <i>step functions</i>) which in combination with its <i>position mode</i> define its behavior. Available position modes are <i>absolute</i> (given positions are actuated as is) and <i>relative</i> (given positions are actuated relative to the position the axis had at the start of the scan module). The step functions are described in detail in the following subsections.</p><h2 id="Addnumerical" class="eveTopic">Add (numerical)</h2><p><a href="#top">back to top</a></p><p>The <i>Add</i> step function is used to screen an area, i.e. go from a defined start position to a target position with an amount of sub steps each of equal width.</p><p style="text-align: center;"><img class="eveImage" alt="motor axis view example of an add step function" title="motor axis view example of an add step function" border="0" src="../../img/concepts/MotorAxisView/add.png"/></p><p>Within the Add step function the positions of the motor axis are defined by a quadruple consisting of <i>start</i>, <i>stop</i>, <i>stepwidth</i> and <i>stepcount</i>. The fourth value (indicated by the radio box selection) is calculated via the following relationship:</p><p style="text-align: center;"><img class="eveImage" alt="relationship of start, stop, stepwidth and stepcount" title="relationship of start, stop, stepwidth and stepcount" border="0" src="../../img/concepts/MotorAxisView/add-relationship.png"/></p><p>In absolute position mode the i-th position is calculated as follows:</p><p style="text-align: center;"><img class="eveImage" alt="formula for calculating the i-th position with absolute positiong" title="formula for calculating the i-th position with absolute positiong" border="0" src="../../img/concepts/MotorAxisView/xi.png"/></p><p>Regardless if (<i>stop</i> - <i>start</i>) mod <i>stepwidth</i> &#8800; 0 (i.e. the distance between <i>stop</i> and the <i>i-1</i>-th position is less than <i>stepwidth</i>) <i>stop</i> is incorporated.</p><p>For relative positioning the <i>i</i>-th position is calculated relative to the motor position <i>mPos</i> at the beginning of the scan module as follows:</p><p style="text-align: center;"><img class="eveImage" alt="formula for calculating the i-th position with relative positioning" title="formula for calculating the i-th position with relative positioning" border="0" src="../../img/concepts/MotorAxisView/xi-rel.png"/></p><p>As in absolute position mode <i>stop</i> is always incorporated.</p><h3 id="Example1" class="eveTopic">Example 1</h3><p>Given: <i>Start</i>=1, <i>Stop</i>=10, <i>Stepwidth</i>=1 (absolute) &rArr; <i>Stepcount</i>=9 (calculated)</p><p>Motor positions: (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</p><h3 id="Example2" class="eveTopic">Example 2</h3><p>Given: <i>Start</i>=1, <i>Stop</i>=10, <i>Stepwidth</i>=2 (absolute) &rArr; <i>Stepcount</i>=5 (calculated)</p><p>Motor positions: (1, 3, 5, 7, 9, 10)</p><p><i>Note:</i> The last position (<i>Stop</i>) is always actuated (disregarding the shorter stepwidth).</p><h3 id="Example3" class="eveTopic">Example 3</h3><p>Given: <i>Start</i>=1, <i>Stop</i>=10, <i>Stepwidth</i>=1, <i>mPos</i>=5 (relative) &rArr; <i>Stepcount</i>=9 (calculated)</p><p>Motor positions: (6, 7, 8, 9, 10, 11, 12, 13, 14, 15)</p><h3 id="Example4" class="eveTopic">Example 4</h3><p>Given: <i>Start</i>=0, <i>Stop</i>=20, <i>Stepcount</i>=50 (absolute) &rArr; <i>Stepwidth</i>=0.4 (calculated)</p><p>Motor positions: (0, 0.4, 0.8, ..., 49.2, 49.6, 50)</p><p><i>Note:</i> In this example the step count is given and the step width is calculated.</p><h2 id="AddmsecTimer" class="eveTopic">Add (msec Timer)</h2><p><a href="#top">back to top</a></p><p>There are two specific (pseudo-)motors called &#8222;Timer&#8221; and &#8222;msec Timer&#8221; allowing to define points in time imitating motor positions. In these cases <i>position mode</i> has the following effects:</p><ul><li>absolute: the scan starts the timer, the beginning of a scan module resets it</li><li>relative: the scan starts the timer (then it increments til the end of the scan)</li></ul><p>The unit of the values is <i>s</i> (seconds) for &#8222;Timer&#8221; and <i>ms</i> (milliseconds) for &#8222;msec Timer&#8221;.</p><h2 id="AdddateTimer" class="eveTopic">Add (date Timer)</h2><p><a href="#top">back to top</a></p><p>There&#8217;s a specific (pseudo-)motor called &#8222;date Timer&#8221; allowing to define a time span with discrete points in time imitating motor positions.</p><p>Instead of entering dates and times manually a tooltip offers a more comfortable way:</p><p style="text-align: center;"><img class="eveImage" alt="date timer axis tooltip help" title="date timer axis tooltip help" border="0" src="../../img/concepts/MotorAxisView/datetimer-tooltip.png"/></p><p>A click on the icon shows a dialog where a date and time could be selected in a calendar:</p><p style="text-align: center;"><img class="eveImage" alt="date timer axis date selection dialog" title="date timer axis date selection dialog" border="0" src="../../img/concepts/MotorAxisView/datetimer-dialog.png"/></p><p>Date and time axes with relative positioning are defined via <i>durations</i>:</p><p style="text-align: center;"><img class="eveImage" alt="date timer relative mode" title="date timer relative mode" border="0" src="../../img/concepts/MotorAxisView/datetimer-relative.png"/></p><p>Similar to absolute positioning there is a dialog offering a more comfortable way of input:</p><p style="text-align: center;"><img class="eveImage" alt="date timer relative mode dialog input" title="date timer relative mode dialog input" border="0" src="../../img/concepts/MotorAxisView/datetimer-relative-dialog.png"/></p><h2 id="Multiply" class="eveTopic">Multiply</h2><p><a href="#top">back to top</a></p><p>The <i>Multiply</i> mode is also controlled by a given quadruple (<i>start</i>, <i>stop</i>, <i>stepwidth</i>, <i>stepcount</i>) but it differs in the way positions are calculated. The motor positions result by taking the sequence generated by the quadruple as multiplication factors of the initial motor position.<br/>Since its calculation is based on the current motor position the <i>Multiply</i> mode is always <i>relative</i>.</p><h3 id="Example12" class="eveTopic">Example 1</h3><p>Given: <i>Start</i>=1, <i>Stop</i>=5, <i>Stepwidth</i>=1, <i>mPos</i>=2 (relative) &rArr; <i>Stepcount</i>=4</p><p>Motor positions: (2 &middot; 1, 2 &middot; 2, 2 &middot; 3, 2 &middot; 4, 2 &middot; 5) = (2, 4, 6, 8, 10)</p><h3 id="Example22" class="eveTopic">Example 2</h3><p>Given: <i>Start</i>=1, <i>Stop</i>=10, <i>Stepwidth</i>=2, <i>mPos</i>=2 (relative) &rArr; <i>Stepcount</i>=5</p><p>Motor positions: (2 &middot; 1, 2 &middot; 3, 2 &middot; 5, 2 &middot; 7, 2 &middot; 9, 2 &middot; 10) = (2, 6, 10, 14, 18, 20)</p><h2 id="File" class="eveTopic">File</h2><p><a href="#top">back to top</a></p><p>The file step function expects a file containing the positions (one per line). If the file is found and parsed correctly some summary statistics are shown:</p><p style="text-align: center;"><img class="eveImage" alt="motor axis view with step function file" title="motor axis view with step function file" border="0" src="../../img/concepts/MotorAxisView/file.png"/></p><p>As in the add step function the positions can be used as absolute or relative.</p><p>In contrast to the add step function a position file allows sharing of the positions between different scans (scml files). Furthermore non equidistant positions or even gaps can be modeled.</p><h2 id="Positionlist" class="eveTopic">Positionlist</h2><p><a href="#top">back to top</a></p><p>In addition to a file a position list can also be defined directly in the application. The input list is entered in a text field, values are delimited by commata.</p><p style="text-align: center;"><img class="eveImage" alt="motor axis view with step function positionlist" title="motor axis view with step function positionlist" border="0" src="../../img/concepts/MotorAxisView/positionlist.png"/></p><p>If the list is parsed correctly the number of positions is displayed at the bottom.</p><p>Position lists can be used as absolute or relative.</p><h2 id="Range" class="eveTopic">Range</h2><p><a href="#top">back to top</a></p><p>The range step function is like the add step function but it is more powerful. The following syntax is used to define a range:</p><table class="eveDataTable"><tr><th>syntax </th><th>description </th></tr><tr><td><code>j:k</code> </td><td>generates a positionlist from <code>j</code> to <code>k</code> with stepwidth <code>1</code> </td></tr><tr><td><code>j:i:k</code> </td><td>generates a positionlist from <code>j</code> to <code>k</code> with stepwidth <code>i</code> </td></tr><tr><td><code>j:k/n</code> </td><td>generates a positionlist from <code>j</code> to <code>k</code> with <code>n</code> steps of equal width </td></tr></table><p>The above range definitions can be aligned by separating them with comma. A preview shows the resulting position list as well as the number of positions.</p><p>Ranges can be used as absolute and relative.</p><h3 id="Example1arangefrom1to5withautostepwidth1" class="eveTopic">Example 1 &#8211; a range from 1 to 5 (with auto stepwidth 1)</h3><p style="text-align: center;"><img class="eveImage" alt="range example with from, to and auto stepwidth" title="range example with from, to and auto stepwidth" border="0" src="../../img/concepts/MotorAxisView/range-jk.png"/></p><h3 id="Example2arangefrom1to10withstepwidth2" class="eveTopic">Example 2 &#8211; a range from 1 to 10 with stepwidth 2</h3><p style="text-align: center;"><img class="eveImage" alt="range example with from, then, to" title="range example with from, then, to" border="0" src="../../img/concepts/MotorAxisView/range-jik.png"/></p><p><i>Note</i>: The stop value is incorporated although its distance is lower than stepwidth to the previous position.</p><h3 id="Example3arangefrom1to20with5stepsofequalwidth" class="eveTopic">Example 3 &#8211; a range from 1 to 20 with 5 steps of equal width</h3><p style="text-align: center;"><img class="eveImage" alt="range example with from, to and number of steps with equal stepwidth" title="range example with from, to and number of steps with equal stepwidth" border="0" src="../../img/concepts/MotorAxisView/range-equalwidth.png"/></p><h3 id="Example4agapdefinedbytwoalignedjkranges" class="eveTopic">Example 4 &#8211; a gap defined by two aligned j:k ranges</h3><p style="text-align: center;"><img class="eveImage" alt="range example with multiple ranges, defining a gap" title="range example with multiple ranges, defining a gap" border="0" src="../../img/concepts/MotorAxisView/range-gap.png"/></p><h3 id="Example5multiplealignedrangesofdifferentkinds" class="eveTopic">Example 5 &#8211; multiple aligned ranges of different kinds</h3><p style="text-align: center;"><img class="eveImage" alt="complex range example with multiple ranges of different kinds" title="complex range example with multiple ranges of different kinds" border="0" src="../../img/concepts/MotorAxisView/range-complex.png"/></p><h2 id="Plugin" class="eveTopic">Plugin </h2><p><a href="#top">back to top</a></p><p>The behavior in the plug-in step function is defined by the chosen plug-in. Depending on the plug-in a number of parameters have to be set.</p><table class="eveDataTable"><tr><th>Plug-In </th><th>absolute </th><th>relative </th><th>Parameters </th></tr><tr><td><i>MotionDisabled</i> </td><td><img class="eveImage" border="0" src="../../img/misc/signed_yes.gif"/> </td><td><img class="eveImage" border="0" src="../../img/misc/signed_no.gif"/> </td><td> </td></tr><tr><td><i>ReferenceAdd</i> </td><td><img class="eveImage" border="0" src="../../img/misc/signed_yes.gif"/> </td><td><img class="eveImage" border="0" src="../../img/misc/signed_no.gif"/> </td><td>summand, referenceaxis </td></tr><tr><td><i>ReferenceMultiply</i> </td><td><img class="eveImage" border="0" src="../../img/misc/signed_yes.gif"/> </td><td><img class="eveImage" border="0" src="../../img/misc/signed_no.gif"/> </td><td>factor, referenceaxis </td></tr></table><h3 id="MotionDisabled" class="eveTopic">MotionDisabled</h3><p>If this plugin is set, only the position of this axis will be read without positioning</p><h3 id="ReferenceAdd" class="eveTopic">ReferenceAdd</h3><p>If this plugin is set, the positions of the axis, are the positions of the reference axis with adding a summand.</p><h4 id="Example13" class="eveTopic">Example 1</h4><p>Given: <br/>Axis 1: <i>Start</i>=1, <i>Stop</i>=5, <i>Stepwidth</i>=1 (absolute) &rArr; <i>Stepcount</i> = 9<br/>Axis 2: <i>summand</i>=4.8, <i>referenceaxis</i>=Axis2, (absolute) </p><p>Motor positions:<br/>Axis 1: (1, 2, 3, 4, 5)<br/>Axis 2: (5.8, 6.8, 7.8, 8.8, 9.8)</p><h3 id="ReferenceMultiply" class="eveTopic">ReferenceMultiply</h3><p>If this plugin is set, the positions of the axis, are the position of the reference axis multiplied by a factor.</p><h4 id="Example14" class="eveTopic">Example 1</h4><p>Given: <br/>Axis 1: <i>Start</i>=1, <i>Stop</i>=5, <i>Stepwidth</i>=1 (absolute) &rArr; <i>Stepcount</i> = 9<br/>Axis 2: <i>factor</i>=1.5, <i>referenceaxis</i>=Axis2, (absolute) </p><p>Motor positions:<br/>Axis 1: (1, 2, 3, 4, 5)<br/>Axis 2: (1.5, 3, 4.5, 6, 7.5) </p></body></html>