<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>events</title><link type="text/css" rel="stylesheet" href="PLUGINS_ROOT/de.ptb.epics.eve.editor/help/css/editor.css"/></head><body><h1 id="Events" class="eveTopic">Events</h1><p>Events are a way to affect scans, e.g. by pausing it if a condition is met. Three types (describing their source) of events exist:</p><ul><li><strong>SCHEDULE</strong>: a schedule event is triggered when a scan module is finished.</li><li><strong>DETECTOR</strong>: a detector event is triggered when a detector is ready.</li><li><strong>MONITOR</strong>: a monitor event sends <code>true</code> or <code>false</code> whether a condition is met.</li></ul><p>The effect (or outcome) of an event is defined by the location the event is added to. Events could be added to a <em>chain</em>, a <em>scan module</em> or a <em>detector channel</em> in their respective <a href="../gettingstarted.html">views</a>. Each view has one or more tabs, one for each outcome:</p><table class="eveDataTable"><tr><th>View</th><th>Pause</th><th>Redo</th><th>Break</th><th>Stop</th><th>Trigger</th></tr><tr><td style="text-align: left;">Chain </td><td>+</td><td>+</td><td>+</td><td>+</td><td></td></tr><tr><td style="text-align: left;">Scan Module </td><td>+</td><td>+</td><td>+</td><td></td><td>+</td></tr><tr><td style="text-align: left;">Detector Channel </td><td></td><td></td><td></td><td></td><td>+</td></tr></table><p>Monitor conditions are evaluated at the start of a chain/scan module.</p><h2 id="Outcomes">Outcomes</h2><p>The effect an event has depends on its outcome which is one of <em>pause</em>, <em>redo</em>, <em>break</em>, <em>stop</em>, <em>trigger</em>. </p><h3 id="PauseEvent">Pause Event</h3><p>The scan has a state which is either <em>running</em> or <em>pause</em>. A detector or schedule event (trigger events) can manipulate that state by its action attribute as follows:</p><table class="eveDataTable"><tr><th>Row</th><th>Scan State (current)</th><th>Event Action</th><th>Scan State (result)</th></tr><tr><td>1</td><td><em>running</em></td><td><em>ON</em></td><td><em>pause</em></td><td>*</td></tr><tr><td>2</td><td><em>running</em></td><td><em>OFF</em></td><td><em>running</em></td></tr><tr><td>3</td><td><em>pause</em></td><td><em>ON</em></td><td><em>pause</em></td></tr><tr><td>4</td><td><em>pause</em></td><td><em>OFF</em></td><td><em>running</em></td><td>*</td></tr></table><p><ins>Note</ins>: Scenarios shown in row two and three have no effect at all since the scan state does not change.</p><p>Since monitor events do not just trigger when they occur but signal whether a specified condition is met there are more possible scenarios:</p><table class="eveDataTable"><tr><th>Row</th><th>Scan State (current)</th><th>Event Action</th><th>condition</th><th>Scan State (result)</th></tr><tr><td>1</td><td><em>running</em></td><td><em>ON</em></td><td><em>true</em></td><td><em>pause</em></td><td>*</td></tr><tr><td>2</td><td><em>running</em></td><td><em>ON</em></td><td><em>false</em></td><td><em>running</em></td></tr><tr><td>3</td><td><em>running</em></td><td><em>OFF</em></td><td><em>true</em></td><td><em>running</em></td></tr><tr><td>4</td><td><em>running</em></td><td><em>OFF</em></td><td><em>false</em></td><td><em>running</em></td></tr><tr><td>5</td><td><em>running</em></td><td><em>ONOFF</em></td><td><em>true</em></td><td><em>pause</em></td><td>*</td></tr><tr><td>6</td><td><em>running</em></td><td><em>ONOFF</em></td><td><em>false</em></td><td><em>running</em></td></tr><tr><td>7</td><td><em>pause</em></td><td><em>ON</em></td><td><em>true</em></td><td><em>pause</em></td></tr><tr><td>8</td><td><em>pause</em></td><td><em>ON</em></td><td><em>false</em></td><td><em>pause</em></td></tr><tr><td>9</td><td><em>pause</em></td><td><em>OFF</em></td><td><em>true</em></td><td><em>running</em></td><td>*</td></tr><tr><td>10</td><td><em>pause</em></td><td><em>OFF</em></td><td><em>false</em></td><td><em>pause</em></td></tr><tr><td>11</td><td><em>pause</em></td><td><em>ONOFF</em></td><td><em>true</em></td><td><em>running</em></td><td>*</td></tr><tr><td>12</td><td><em>pause</em></td><td><em>ONOFF</em></td><td><em>false</em></td><td><em>pause</em></td></tr></table><p>If the specified condition is not met nothing happens at all (even rows). Rows three and seven just overwrites the state with the same value. The behavior in rows one and nine is equal to the behavior of detector and schedule events. Rows five and eleven show the behavior specific to monitor events due to the additional <em>ONOFF</em> action.</p><p><ins>Note</ins>: Each event can continue the scan (stop the pause) regardless of which event paused it (<a href="#combine">learn more</a> on combining events).</p><h3 id="RedoEvent">Redo Event</h3><p>If caused by trigger events (detector or schedule) the detector is read again or the scan module is executed again respectively. Monitor events behave the same way (redo if condition is <code>true</code>)except that they will pause the scan before reading/executing again until the event sends <code>false</code>.</p><h3 id="BreakStopTriggerEvent">Break/Stop/Trigger Event</h3><p>Caused by a trigger event (detector or schedule) and monitor event sending <code>true</code>.</p><h2 id="combine">Combining <em>Chain</em> and <em>ScanModule</em> Events</h2><p>Chains and scan modules have <ins>independent</ins> pause states, i.e. both scan module and chain states must be <em>running</em> in order to continue a scan.</p><p>When monitor events are combined (one in the chain, one in the scan module) a redo occurs if at least one of their last send values was <code>true</code>. Only when both last sent <code>false</code> the scan continues normally.</p></body></html>