<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>detectorchannels</title><link type="text/css" rel="stylesheet" href="PLUGINS_ROOT/de.ptb.epics.eve.editor/help/css/editor.css"/></head><body><h1 id="DetectorChannel" class="eveTopic">Detector Channel</h1><p>Detectors are devices where you can read from (e.g. its value) or write to (e.g. trigger its channel). They contain at least one channel.</p><p>A detector channel usually has different modes (called step functions) it can be controlled with:</p><h2 id="Average" class="eveTopic">Average</h2><p>The number in the <i>Average</i> determines how many channel readings are taken to calculate an average.</p><h2 id="Max.Deviation" class="eveTopic">Max. Deviation (%):</h2><p>The <i>Max. Deviation (%)</i> bestimmt wie gross die Abweichung der ersten beiden Messpunkte voneinander maximal sein darf, damit die Werte gültig sind. Ist die Abweichung größer als <i>Max. Deviation (%)</i> wird der erste Wert verworfen und der nächste Messwert zur neuen Bestimmung der Abweichung verwendet.</p><h2 id="Minimum" class="eveTopic">Minimum:</h2><p>The <i>Minimum</i> bestimmt, ab welchem Signal die <i>Max. Deviation (%)</i> überhaupt bestimmt wird. Ist der Messwert kleiner als der <i>Minimum</i> <br/>Wert, findet keine Überprüfung statt.</p><h2 id="Max.Attempts" class="eveTopic">Max. Attempts:</h2><p><i>Max. Attempts</i> definiert wie oft die Max. Deviation berechnet wird. Wenn <i>Max. Attempts</i> vergangen sind ohne das die Abweichung eingehalten wird, werden keine weiteren Werte mehr verworfen und die folgenden Werte werden akzeptiert.</p><h2 id="NormalizeChannel" class="eveTopic">Normalize Channel:</h2><p>The <i>Normalize Channel</i> legt den Channel fest durch den der Channel Wert geteilt wird, bevor mit den oben beschriebenen Berechnungen angefangen wird.</p><h2 id="DeferredTrigger" class="eveTopic">Deferred Trigger:</h2><p>If <i>Deferred Trigger</i> is set, this Channel will be triggered after (all) other Channels of this scan Module will be read.</p><h2 id="SendDetectorReadyEvent" class="eveTopic">Send Detector Ready Event:</h2><p>If <i>Send Detector Ready Event</i> is set, an Event will send if the channel reading is ready.</p><h3 id="Example1" class="eveTopic">Example 1</h3><p><i>Average</i> = &empty;, <i>Max. Deviation (%)</i> = &empty;, <i>Minimum</i> = &empty;, <i>Max. Attempts</i> = &empty;</p><p><i>Average</i> omitted &rArr; no average is calculated.</p><h3 id="Example2" class="eveTopic">Example 2</h3><p><i>Average</i> = 3, <i>Max. Deviation (%)</i> = &empty;, <i>Minimum</i> = &empty;, <i>Max. Attempts</i> = &empty;</p><p><i>Minimum</i> omitted &rArr; <i>Average</i> is calculated from three subsequent measurements.</p><p>measured values: {<span class="green">0.00197</span>, <span class="green">0.00199</span>, <span class="green">0.00153</span>} &rArr; <i>Average</i> = 0.00183</p><h3 id="Example3" class="eveTopic">Example 3</h3><p><i>Average</i> = 3, <i>Max. Deviation (%)</i> = &empty;, <i>Minimum</i> = 1.0, <i>Max. Attempts</i> = &empty;</p><p>measured value: -0.898492 &rArr; value is less than <i>Minimum</i> &rArr; <i>Average</i> is calculated from three subsequent measurements.</p><p>measured values: {<span class="green">-0.898492</span>, <span class="green">-0.900868</span>, <span class="green">-0.906199</span>} &rArr; <i>Average</i> = -0.901853</p><p><span class="red">Achtung, bisher (Version 1.7) wird hier nur 1 Messwert aufgenommen</span></p><h3 id="Example4" class="eveTopic">Example 4</h3><p><i>Average</i> = 3, <i>Max. Deviation (%)</i> = &empty;, <i>Minimum</i> = 0.0001, <i>Max. Attempts</i> = &empty;</p><p>measured values: {<span class="green">0.00197</span>, <span class="green">0.00199</span>, <span class="green">0.00153</span>} &rArr; <i>Average</i> = 0.00183</p><h3 id="Example5" class="eveTopic">Example 5</h3><p><i>Average</i> = 3, <i>Max. Deviation (%)</i> = 5, <i>Minimum</i> = 0.3, <i>Max. Attempts</i> = 10</p><p>measured values: {<span class="red">4.231</span>, <span class="green">4.787</span>, <span class="green">4.687</span>, <span class="green">4.732</span>}<br/><i>Max. Deviation (%)</i> from 1 and 2: 13.14 =&gt; discard first value <br/><i>Max. Deviation (%)</i> from 2 and 3:  2.09 =&gt; Deviation is OK </p><p>&rArr; value of the channel is the <i>Average</i> from 2., 3. and 4. point: = 4.735</p><h3 id="Example6" class="eveTopic">Example 6</h3><p><i>Average</i> = 3, <i>Max. Deviation (%)</i> = 0.5, <i>Minimum</i> = 1e-8, <i>Max. Attempts</i> = 5</p><p>measured values: {<span class="red">4.231</span>, <span class="red">4.787</span>, <span class="red">4.687</span>, <span class="red">4.732</span>, <span class="red">4.894</span>, <span class="green">4.738</span>, <span class="green">4.834</span>, <span class="green">4.963</span>)</p><p><i>Max. Deviation (%)</i> from 1 and 2: 13.14 =&gt; discard first value <br/><i>Max. Deviation (%)</i> from 2 and 3:  2.09 =&gt; discard second value <br/><i>Max. Deviation (%)</i> from 3 and 4:  0.96 =&gt; discard third value <br/><i>Max. Deviation (%)</i> from 4 and 5:  2.09 =&gt; discard fourth value <br/><i>Max. Deviation (%)</i> from 5 and 6:  3.42 =&gt; discard fifth value </p><p><i>Max. Attempts</i> reached &rArr; value of the channel is the <i>Average</i> from 6., 7. and 8. point: = 4.845</p><p><span class="red">Achtung, bisher (Version 1.7) wird hier nur 1 Messwert aufgenommen (der 6. Wert)</span></p></body></html>