<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension-point id="de.ptb.epics.eve.editor.dispatcher" name="ScanDescriptionDispatcher" schema="schema/de.ptb.epics.eve.editor.dispatcher.exsd"/>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="de.ptb.epics.eve.editor.EveEditorPerspective"
            id="EveEditorPerpective"
            name="%perspective.name">
      </perspective>
   </extension>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="de.ptb.epics.eve.editor.graphical.GraphicalEditor"
            default="true"
            extensions="scml"
            filenames="*.scml"
            id="de.ptb.epics.eve.editor.graphical.GraphicalEditor"
            name="%editor.name">
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            category="eveEditorCategory"
            class="de.ptb.epics.eve.editor.views.scanview.ScanView"
            icon="icons/devices/chain.gif"
            id="de.ptb.epics.eve.editor.views.ScanView"
            name="%view.name"
            restorable="true">
      </view>
      <view
            category="eveEditorCategory"
            class="de.ptb.epics.eve.editor.views.scanmoduleview.ScanModuleView"
            icon="icons/devices/scanmodule.gif"
            id="de.ptb.epics.eve.editor.views.ScanModulView"
            name="%view.name.0"
            restorable="true">
      </view>
      <view
            category="eveEditorCategory"
            class="de.ptb.epics.eve.editor.views.ErrorView"
            icon="icons/errorwarning_tab.gif"
            id="de.ptb.epics.eve.editor.views.ErrorView"
            name="%view.name.1"
            restorable="true">
      </view>
      <view
            category="eveEditorCategory"
            class="de.ptb.epics.eve.editor.views.motoraxisview.MotorAxisView"
            icon="icons/devices/axis.gif"
            id="de.ptb.epics.eve.editor.views.MotorAxisView"
            name="%view.name.2"
            restorable="true">
      </view>
      <view
            category="eveEditorCategory"
            class="de.ptb.epics.eve.editor.views.detectorchannelview.DetectorChannelView"
            icon="icons/devices/channel.gif"
            id="de.ptb.epics.eve.editor.views.DetectorChannelView"
            name="%view.name.3"
            restorable="true">
      </view>
      <view
            category="eveEditorCategory"
            class="de.ptb.epics.eve.editor.views.plotwindowview.PlotWindowView"
            icon="icons/devices/plot.gif"
            id="de.ptb.epics.eve.editor.views.PlotWindowView"
            name="%view.name.4"
            restorable="true">
      </view>
      <category
            id="eveEditorCategory"
            name="EVE Editor">
      </category>
      <view
            class="org.eclipse.ui.ExtensionFactory:progressView"
            icon="icons/pview.gif"
            id="org.eclipse.ui.views.ProgressView"
            name="Progress"
            restorable="true">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            id="de.ptb.epics.eve"
            name="%category.name">
      </category>
      <wizard
            category="de.ptb.epics.eve"
            class="de.ptb.epics.eve.editor.wizards.NewScanDescriptionWizard"
            icon="icons/sample.gif"
            id="de.ptb.epics.eve.editor.wizards.NewScanDescriptionWizard"
            name="%wizard.name"
            project="true">
      </wizard>
      <primaryWizard
            id="de.ptb.epics.eve.editor.wizards.NewScanDescriptionWizard">
      </primaryWizard>
   </extension>
   <extension
         id="de.ptb.epics.eve.editor.PerspectiveExtension"
         name="PerspectiveExtension"
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="*">
         <newWizardShortcut
               id="de.ptb.epics.eve.editor.wizards.NewScanDescriptionWizard">
         </newWizardShortcut>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="menu:editors">
         <command
               commandId="de.ptb.epics.eve.editor.start"
               icon="icons/threadgroup_obj.gif"
               label="EveEditor"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            locationURI="toolbar:org.eclipse.ui.main.toolbar">
         <toolbar
               id="de.ptb.epics.eve.editor.toolbar.file">
            <command
                  commandId="org.eclipse.ui.newWizard"
                  label="New"
                  style="push">
               <visibleWhen>
                  <reference
                        definitionId="de.ptb.epics.eve.editor.EditorPerspectiveActive">
                  </reference>
               </visibleWhen>
            </command>
         </toolbar>
         <toolbar
               id="de.ptb.epics.eve.editor.toolbar.save">
            <command
                  commandId="org.eclipse.ui.file.save"
                  icon="icons/save_edit.gif"
                  label="Save"
                  style="push">
               <visibleWhen>
                  <reference
                        definitionId="de.ptb.epics.eve.editor.EditorPerspectiveActive">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="org.eclipse.ui.file.saveAll"
                  icon="icons/saveall_edit.gif"
                  label="Save All"
                  style="push">
               <visibleWhen>
                  <reference
                        definitionId="de.ptb.epics.eve.editor.EditorPerspectiveActive">
                  </reference>
               </visibleWhen>
            </command>
            <command
                  commandId="org.eclipse.ui.file.saveAs"
                  icon="icons/saveas_edit.gif"
                  label="Save &amp;As..."
                  style="push">
               <visibleWhen>
                  <reference
                        definitionId="de.ptb.epics.eve.editor.EditorPerspectiveActive">
                  </reference>
               </visibleWhen>
            </command>
         </toolbar>
         <toolbar
               id="de.ptb.epics.eve.editor.toolbar.handover">
            <command
                  commandId="de.ptb.epics.eve.editor.command.handover"
                  icon="icons/run.gif"
                  style="push"
                  tooltip="Add to Playlist and switch to Engine Perspective">
               <visibleWhen>
                  <reference
                        definitionId="de.ptb.epics.eve.editor.EditorPerspectiveActive">
                  </reference>
               </visibleWhen>
               <parameter
                     name="de.ptb.epics.eve.editor.command.handover.switchPerspective"
                     value="true">
               </parameter>
            </command>
            <command
                  commandId="de.ptb.epics.eve.editor.command.handover"
                  icon="icons/profile_exc.gif"
                  style="push"
                  tooltip="Add to Playlist">
               <visibleWhen>
                  <reference
                        definitionId="de.ptb.epics.eve.editor.EditorPerspectiveActive">
                  </reference>
               </visibleWhen>
               <parameter
                     name="de.ptb.epics.eve.editor.command.handover.switchPerspective"
                     value="false">
               </parameter>
            </command>
         </toolbar>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="de.ptb.epics.eve.editor.EditorPerspectiveActive">
         <with
               variable="activeWorkbenchWindow.activePerspective">
            <equals
                  value="EveEditorPerpective">
            </equals>
         </with>
      </definition>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            defaultHandler="de.ptb.epics.eve.editor.handler.Start"
            id="de.ptb.epics.eve.editor.start"
            name="EveEditor">
      </command>
      <command
            defaultHandler="de.ptb.epics.eve.editor.handler.HandOver"
            id="de.ptb.epics.eve.editor.command.handover"
            name="Handover">
         <commandParameter
               id="de.ptb.epics.eve.editor.command.handover.switchPerspective"
               name="switchPerspective"
               optional="false">
         </commandParameter>
      </command>
   </extension>
   <extension
         point="org.eclipse.help.toc">
      <toc
            file="help/toc.xml"
            primary="false">
      </toc>
      <toc
            file="help/content/concepts/toc_concepts.xml"
            primary="false">
      </toc>
      <toc
            file="help/content/reference/toc_reference.xml"
            primary="false">
      </toc>
      <toc
            file="help/content/tasks/toc_tasks.xml"
            primary="false">
      </toc>
   </extension>
   <extension
         point="org.eclipse.help.index">
      <index
            file="help/index.xml">
      </index>
   </extension>
   <extension
         point="org.eclipse.ui.intro.configExtension">
      <configExtension
            configId="org.eclipse.ui.intro.universalConfig"
            content="intro/overview.xml">
      </configExtension>
   </extension>
</plugin>
