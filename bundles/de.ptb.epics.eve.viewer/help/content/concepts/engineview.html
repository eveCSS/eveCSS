<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>engineview</title><link type="text/css" rel="stylesheet" href="PLUGINS_ROOT/de.ptb.epics.eve.viewer/help/css/viewer.css"/></head><body><h1 id="top" class="eveTopic|">Engine View</h1><ol class="toc" style="list-style: circle;"><li><a href="#top">Engine View</a><ol style="list-style: circle;"><li><a href="#Introduction">Introduction</a></li><li><a href="#EngineGroup">Engine Group</a></li><li><a href="#ScanGroup">Scan Group</a></li><li><a href="#EngineStateIndicator">Engine State Indicator</a></li><li><a href="#InhibitStateIndicator">Inhibit State Indicator</a></li><li><a href="#InhibitStateTooltip">Inhibit State Tooltip</a></li></ol></li></ol><h2 id="Introduction" class="eveTopic">Introduction</h2><p>The Engine View allows monitoring and control of scans running in an engine process.</p><p style="text-align: center;"><img class="eveImage" alt="engine view overview" title="engine view overview" border="0" src="../../img/concepts/engineview/engineview.png"/></p><p>It is divided into an Engine group for the engine process, Scan group for the currently loaded scan with Status Table and State indicators for Engine and Inhibit state.</p><h2 id="EngineGroup" class="eveTopic">Engine Group</h2><p class="backToTop"><a href="#top">back to top</a></p><p style="text-align: center;"><img class="eveImage" alt="engine view - engine group with host:port label and start, kill, connect and disconnect buttons" title="engine view - engine group with host:port label and start, kill, connect and disconnect buttons" border="0" src="../../img/concepts/engineview/engineview-enginegroup.png"/></p><p>Following the Engine text label the host and port of the engine process connected to (if any) is shown inside of brackets. Depending on the connection state, certain buttons are enabled/disabled.</p><p>Inside the engine group there are buttons to control the engine process. Their function is described in the table below:</p><table class="eveRefTable"><tr><th>Button</th><th>Description</th></tr><tr><th>Start</th><td>Creates an engine process with the parameters (i.e. host and port) specified in the preferences and connects to it.</td></tr><tr><th>Kill</th><td>Sends a request to the engine to terminate itself.</td></tr><tr><th>Connect</th><td>Connects to an existing engine process at <i>host</i>:<i>port</i> as specified in the preferences</td></tr><tr><th>Disconnect</th><td>Disconnects from the currently connected engine process.</td></tr></table><p>A checkbox controls whether scans arriving at the Engine will be simulated or executed normally (with Channel Access). In Simulation mode neither motor axis are actuated nor channels are triggered/measured but a data file with pseudo constants will be created.</p><p>Keep in mind that the simulation setting only applies to subsequent scans, i.e. the mode of a scan already loaded into the engine cannot be changed anymore.</p><h2 id="ScanGroup" class="eveTopic">Scan Group</h2><p class="backToTop"><a href="#top">back to top</a></p><p style="text-align: center;"><img class="eveImage" alt="engine view - scan group with buttons, repeat count, filename, log message, progress bar and status table" title="engine view - scan group with buttons, repeat count, filename, log message, progress bar and status table" border="0" src="../../img/concepts/engineview/engineview-scangroup.png"/></p><p>If a scan is currently loaded in the engine the controls inside the scan group become active and the name of the loaded file is shown as a suffix of the Scan label of the group.</p><p>Several buttons are available to influence the execution of a scan. Their function is described in the table below:</p><table class="eveRefTable"><tr><th>Button</th><th>Description</th></tr><tr><th>Play</th><td>Starts (or continues a paused) scan. An active inhibit state will be overwritten. Any pause condition which evaluated to <i>true</i> is now in an <i>overridden</i> state as long as it becomes <i>false</i> again.</td></tr><tr><th>Pause</th><td>Pauses the whole scan, i.e. each chain is paused. Overrules any inhibit states. A scan paused this way can only be resumed by pressing the <i>Play</i>-Button (even if all pause conditions suddenly evaluate to <i>false</i>).</td></tr><tr><th>Stop</th><td>Stops the scan after finishing the current scan point. While pending positionings are ignored, post scan actions of the current scan module (and the parents if nested) are still executed.</td></tr><tr><th>Skip</th><td>Finishes the current scan point, skips the remaining scan points of the current scan module, executes post scan actions and continues with the next scan module (if any)</td></tr><tr><th>Halt</th><td>Stops the scan and immediately stops all motor axes.</td></tr><tr><th>AutoPlay</th><td>if activated (toggle button) loaded scans (and iterations if repeat count &gt; 0) start automatically</td></tr></table><p>Besides the available buttons there are some status fields as well as options to repeat the currently loaded scan and add comments to it. See details below:</p><h3 id="repeatcount" class="eveTopic">repeat count</h3><p>The <i>Repeat Count</i> displays the number of times the scan should be repeated. As long as the scan is not finished the repeat count is editable.</p><h3 id="Filename" class="eveTopic">Filename</h3><p>Shows the path and name of the file the measuring data is written to.</p><h3 id="liveComment" class="eveTopic">live Comment</h3><p>Allows writing (multiple) comments to the current data file. When pressing the button &#8222;Send to File&#8221; the entered text is send to the engine (which saves it in the file with a timestamp).</p><h3 id="ProgressBar" class="eveTopic">Progress Bar</h3><p>Shows the progress of the current scan by showing the absolute and relative ratio of finished positions to the number of total positions. The background color fill also represents the relative ratio.</p><h3 id="StatusTable" class="eveTopic">Status Table</h3><p>Shows the chains, scan modules and their states of the currently loaded scan. A remaining time as well as additional event information (if any) are also shown.</p><h3 id="Simulation" class="eveTopic">Simulation</h3><p>If simulation is active the scan group title shows a modified title and is colored in red:</p><p style="text-align: center;"><img class="eveImage" alt="engine view - scan group with red colored title with prefix in simulation mode" title="engine view - scan group with red colored title with prefix in simulation mode" border="0" src="../../img/concepts/engineview/engineview-scangroup-simulation.png"/></p><p>Additionally the window title of the application (and its title in the task bar) will be prefixed with &#8222;SIM: &#8221;.</p><h2 id="EngineStateIndicator" class="eveTopic">Engine State Indicator</h2><p class="backToTop"><a href="#top">back to top</a></p><p>The Engine State Indicator shows the current status of the (connected) engine (if any). The table below shows all possible states and their meaning:</p><table class="eveRefTable"><tr><th>State</th><th>Description</th></tr><tr><td><img alt="engine state with no background" title="engine state with no background" border="0" src="../../img/concepts/engineview/enginestate-disabled.png"/></td><td>The GUI (Engine View) is not connected to an engine process.</td></tr><tr><td><img alt="engine state with grey background" title="engine state with grey background" border="0" src="../../img/concepts/engineview/enginestate-grey.png"/></td><td>No scan is currently loaded in the (connected) engine process.</td></tr><tr><td><img alt="engine state with red background and white text &apos;stopped&apos;" title="engine state with red background and white text &apos;stopped&apos;" border="0" src="../../img/concepts/engineview/enginestate-red2.png"/></td><td>A scan is loaded in the (connected) engine process but not started yet.</td></tr><tr><td><img alt="engine state with green background and black text &apos;running&apos;" title="engine state with green background and black text &apos;running&apos;" border="0" src="../../img/concepts/engineview/enginestate-green.png"/></td><td>A scan is currently executing in the (connected) engine process.</td></tr><tr><td><img alt="engine state with yellow background and black text &apos;paused&apos;" title="engine state with yellow background and black text &apos;paused&apos;" border="0" src="../../img/concepts/engineview/enginestate-yellow.png"/></td><td>The currently executing scan in the (connected) engine process was paused by a connected client (with the Pause button).</td></tr><tr><td><img alt="engine state with red background and white text &apos;paused&apos;" title="engine state with red background and white text &apos;paused&apos;" border="0" src="../../img/concepts/engineview/enginestate-red.png"/></td><td>The currently executing scan in the (connected) engine process was paused due to a pause condition. For details see below (inhibit state).</td></tr></table><h2 id="InhibitStateIndicator" class="eveTopic">Inhibit State Indicator</h2><p class="backToTop"><a href="#top">back to top</a></p><p>Shows the current status of the inhibit state defined in the currently loaded scan (if any). The table below shows all possible states and their meaning:</p><table class="eveRefTable"><tr><th>State</th><th>Description</th></tr><tr><td><img alt="inhibit state with no background" title="inhibit state with no background" border="0" src="../../img/concepts/engineview/inhibitstate-disabled.png"/></td><td>The GUI (Engine View) is not connected to an engine process.</td></tr><tr><td><img alt="inhibit state with grey background" title="inhibit state with grey background" border="0" src="../../img/concepts/engineview/inhibitstate-grey.png"/></td><td>There either is no scan loaded in the (connected) engine process or the currently loaded scan does not have any pause conditions defined.</td></tr><tr><td><img alt="inhibit state with green background and black text false" title="inhibit state with green background and black text false" border="0" src="../../img/concepts/engineview/inhibitstate-green.png"/></td><td>The inhibit state of the currently loaded/executing scan evaluates to <code>false</code> (no pause condition is satisfied).</td></tr><tr><td><img alt="inhibit state with red background and white text true" title="inhibit state with red background and white text true" border="0" src="../../img/concepts/engineview/inhibitstate-red.png"/></td><td>The inhibit state of the currently loaded/executing scan evaluates to <code>true</code>.</td></tr><tr><td><img alt="inhibit state with yellow background and black test overridden" title="inhibit state with yellow background and black test overridden" border="0" src="../../img/concepts/engineview/inhibitstate-yellow.png"/></td><td>The inhibit state of the currently loaded/executing scan evaluated to <code>false</code> but was overridden by the user (by pressing the Play button).</td></tr></table><p>To learn more about Pause Conditions / Inhibit-State see <a href="/help/topic/de.ptb.epics.eve.editor/help/content/concepts/inhibitstate.html">here</a>.</p><h2 id="InhibitStateTooltip" class="eveTopic">Inhibit State Tooltip</h2><p class="backToTop"><a href="#top">back to top</a></p><p>The inhibit state indicator only shows the result (logical or) of all defined pause conditions of a scan. In order to identify which pause condition was responsible a mouse over tooltip of the indicator shows the states of each pause condition:</p><p style="text-align: center;"><img class="eveImage" alt="inhibit state tooltip with three entries, one of each state: true, overriden, false" title="inhibit state tooltip with three entries, one of each state: true, overriden, false" border="0" src="../../img/concepts/engineview/inhibitstatepopup.png"/></p><p>The status of each condition is shown as symbols with the following meaning:</p><table class="eveRefTable"><tr><th>State</th><th>Description</th></tr><tr><th><img alt="White Play symbol above a green circle" title="White Play symbol above a green circle" border="0" src="../../img/concepts/engineview/inhibitstatetooltip-false.gif"/></th><td>Inhibit state evaluates to <code>false</code>.</td></tr><tr><th><img alt="White Cross symbol above a red circle" title="White Cross symbol above a red circle" border="0" src="../../img/concepts/engineview/inhibitstatetooltip-true.gif"/></th><td>Inhibit state evaluates to <code>true</code>.</td></tr><tr><th><img alt="Black exclamation mark above yellow triangle" title="Black exclamation mark above yellow triangle" border="0" src="../../img/concepts/engineview/inhibitstatetooltip-overridden.gif"/></th><td>Inhibit state evaluated to <code>true</code> but was overridden.</td></tr></table><p>If any pause condition evaluates to <code>true</code> the scan is paused. If all pause conditions are either <code>false</code> or <code>overridden</code> the scan resumes/executes.</p><p>To learn more about Pause Conditions / Inhibit-State see <a href="/help/topic/de.ptb.epics.eve.editor/help/content/concepts/inhibitstate.html">here</a>.</p></body></html>