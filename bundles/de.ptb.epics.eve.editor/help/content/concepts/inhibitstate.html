<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>inhibitstate</title><link type="text/css" rel="stylesheet" href="PLUGINS_ROOT/de.ptb.epics.eve.editor/help/css/editor.css"/></head><body><h1 id="top" class="eveTopic|">Pause Conditions (Inhibit-State)</h1><ol class="toc" style="list-style: circle;"><li><a href="#top">Pause Conditions (Inhibit-State)</a><ol style="list-style: circle;"><li><a href="#Introduction">Introduction</a></li><li><a href="#Hysteresis">Hysteresis</a></li></ol></li></ol><h2 id="Introduction" class="eveTopic">Introduction</h2><p class="backToTop"><a href="#top">back to top</a></p><p>Each chain can have zero or more pause conditions. A pause condition is a definition based on a device, an operator and a limit evaluating to <i>true</i> or <i>false</i>, e.g. a value of a device is equal to a given constant. All pause conditions in a chain define an <i>inhibit-state</i>, i.e. if any of the definitions evaluates to <i>true</i>, execution is inhibited (the chain is paused) until <ins>all</ins> definitions evaluate to <i>false</i>.</p><h3 id="Example1PauseCondition" class="eveTopic">Example 1 (Pause Condition)</h3><p>Consider the following definition of a device value with operator lt (less than) and pause limit:</p><p style="text-align: center;"><img class="eveImage" alt="Example 1: device with operator less than and pause limit five" title="Example 1: device with operator less than and pause limit five" border="0" src="../../img/concepts/InhibitState/pausecondition-example1.png"/></p><p>A chain containing the above definition will execute as long as the value of the given device is greater than or equal to five. If it drops below five, the chain will pause as long as it stays below five.</p><h3 id="Example2InhibitState" class="eveTopic">Example 2 (Inhibit State)</h3><p>Consider the following definition of a device value with operator lt (less than) and pause limit and another device severity with operator eq (equals) and (discrete) pause limit <i>INVALID</i>:</p><p style="text-align: center;"><img class="eveImage" alt="Example 2: device with operator less than and pause limit five and another device with status equal to INVALID" title="Example 2: device with operator less than and pause limit five and another device with status equal to INVALID" border="0" src="../../img/concepts/InhibitState/pausecondition-example2.png"/></p><p>A chain containing the above definitions will execute as long as neither the device value is less than five nor the other device severity is equal to <i>INVALID</i>. Since the conditions define an inhibit state, one violation (i.e. one condition evaluating to <i>true</i>) is sufficient for the chain to be paused. Only if all defined conditions (re-)evaluate to <i>false</i> the chain will execute/continue execution.</p><h3 id="Example3Interval" class="eveTopic">Example 3 (Interval)</h3><p>It is possible to add multiple definitions for the same device. To define an interval a certain value should be in where the chain executes and pauses otherwise, consider the following definition:</p><p style="text-align: center;"><img class="eveImage" alt="Example 3: device with operator less than and pause limit 150 and another definition of the same device with operator greater than and pause limit 220, i.e. a range or interval" title="Example 3: device with operator less than and pause limit 150 and another definition of the same device with operator greater than and pause limit 220, i.e. a range or interval" border="0" src="../../img/concepts/InhibitState/pausecondition-example3.png"/></p><p>Only if the value of the defined device is within 150 and 220 the chain executes. If it is less than 150 or greater than 220 the chain pauses.</p><h3 id="Example4ExcludingDiscreteStates" class="eveTopic">Example 4 (Excluding Discrete States)</h3><p>Another use case where adding multiple definitions for the same device would be if the device is discrete, has more than three values and two or more should be excluded. Consider the following definition:</p><p style="text-align: center;"><img class="eveImage" alt="Example 4: device with operator equals and pause limit MAJOR and another definition of the same device with operator equals and pause limit INVALID" title="Example 4: device with operator equals and pause limit MAJOR and another definition of the same device with operator equals and pause limit INVALID" border="0" src="../../img/concepts/InhibitState/pausecondition-example4.png"/></p><p>If the value of the defined device gets <i>MAJOR</i> or <i>INVALID</i> the chain will pause. An EPICS severity also has the possible values of <i>NO_ALARM</i> and <i>MINOR</i>, which in this case result to executing the chain.</p><h2 id="Hysteresis" class="eveTopic">Hysteresis</h2><p class="backToTop"><a href="#top">back to top</a></p><p>For any pause condition a hysteresis can be defined, i.e. besides the pause limit which alongside the operator defines when the condition evaluates to <i>true</i> (induce pause state) a second value, the <i>continue limit</i> can be set to enforce the expression to evaluate to <i>false</i> regarding that value. </p><h3 id="Example" class="eveTopic">Example</h3><p>Consider the following definition of a device value with operator lt (less than), pause limit and (different) continue limit:</p><p style="text-align: center;"><img class="eveImage" alt="Hysteresis example device with operator lt, pause limit 5 and continue limit 100" title="Hysteresis example device with operator lt, pause limit 5 and continue limit 100" border="0" src="../../img/concepts/InhibitState/hysteresis-example.png"/></p><p>The chain will pause any time the given value is less than five. But (in contrast to the situation where no continue limit is set) it will resume only when the value is greater or equal to 100 (and not five).</p></body></html>