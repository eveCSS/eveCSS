<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>scandescription</title><link type="text/css" rel="stylesheet" href="PLUGINS_ROOT/de.ptb.epics.eve.editor/help/css/editor.css"/></head><body><h1 id="ScanDescription" class="eveTopic">Scan Description</h1><p>A scan description is a complete description of a measurement process. It defines which devices will be involved and how they behave.<br/>Within a scan description multiple scans are possible. Each of them is represented by a chain. A chain is a composition of appended and nested scan modules (arranged as a tree) preceded by an event. The following figure shows a graphical representation of a scan description with one chain as it would appear in the editor:</p><p style="text-align: center;"><img class="eveImage" alt="a scan description example" title="a scan description example" border="0" src="../../img/concepts/ScanDescription/scandescription.png"/></p><p>This scan description example only has one chain started by S-0-0-E (the Start Event) followed by a scan module &#8222;SM 1&#8221; which has one appended (&#8222;SM 2&#8221;) and one nested (&#8222;SM 3&#8221;) scan module.</p><p>An <i>appended</i> scan module is executed after the preceding module is completed. A <i>nested</i> scan module is processed at each motor position of its parent scan module.</p><p>For now exactly one chain can be created with EVE Editor. The Start Event S-0-0-E is automatically triggered when the Scan is being started. In the future multiple chains with different start events (e.g. the completion of another scan module, chain, etc.) may be possible.</p><h2 id="ScanModules">Scan Modules</h2><p>A scan module is a unit of abstraction to structure a scan. There are five different types of scan modules. Each of them has a different appearance in the <a href="editor.html">Editor</a>.</p><h3 id="ScanModule">ScanModule</h3><p style="text-align: center;"><img class="eveImage" alt="Empty Scan Module" title="Empty Scan Module" border="0" src="../../img/concepts/ScanDescription/ScanModuleTypes-Classic.png"/></p><p>A simple scan module is partitioned into multiple stages called pre-scan, main, post-scan and positioning:</p><p style="text-align: center;"><img class="eveImage" alt="the phases of a common scan module" title="the phases of a common scan module" border="0" src="../../img/concepts/ScanDescription/ClassicScanModule.png"/></p><p>Execution of the scan module is as follows:</p><ul><li>the motors are moved to their start position (first given/calculated value)</li><li>Pre-scan: values and options of devices are set (e.g. open beam shutter, set motor velocity)</li><li>Main: The main phase is executed n times where n is the (maximum) number of given motor positions<ul><li>wait for &#8218;settle time&#8217; seconds (only after first motor position)</li><li>wait for &#8218;trigger delay&#8217; seconds</li><li>trigger detectors</li><li>the nested scan module (if any) is executed</li><li>trigger detectors declared as deferred</li><li>move motors to next position (if any)</li></ul></li><li>Post-scan: options and devices are set, or reset to their original value</li><li>Positioning: one or more axes from the main-phase can be moved to a calculated position (e.g. move a motor to the center of the measured values of a detector used in the main phase)</li></ul><p><i>Note</i> that the settle time delay is only executed for the first motor position.</p><p><i>Note</i> that prescan actions are executed <ins>after</ins> the first motor position is actuated.</p><p>P. Die <i>Prescan</i> Aktionen werden ausgeführt, nachdem die erste Position des Scan Modules angefahren wurde. Ob die Prescan-Aktion auf eine Antwort wartet oder nur einfach abgeschickt wird, hängt von ihrer Vereinbarung im xml File ab (method=&#8222;GETPUTCB&#8221; oder =&#8222;GETPUT&#8221;)</p><p>P. Ob die Postscan-Aktion auf eine Antwort wartet oder nur einfach abgeschickt wird, hängt von ihrer Vereinbarung im xml File ab (method=&#8222;GETPUTCB&#8221; oder =&#8222;GETPUT&#8221;)</p><p><i>Note</i> that a scan modules pre-scan, post-scan and positioning phases are only processed once (not at each iteration of its nested module(s)).</p><p><i>Note</i> that axes in the parent and nested scan modules are actuated one after another (to reach their starting positions).</p><h3 id="AxisSnapshotStatic">Axis Snapshot (Static)</h3><p style="text-align: center;"><img class="eveImage" alt="Static Axis Snapshot" title="Static Axis Snapshot" border="0" src="../../img/concepts/ScanDescription/ScanModuleTypes-StaticAxisPositions.png"/></p><p>A static axis snapshot module defines a list of motor axes which records the current position of these axes. The list is modifiable.</p><h3 id="ChannelSnapshotStatic">Channel Snapshot (Static)</h3><p style="text-align: center;"><img class="eveImage" alt="Static Channel Snapshot" title="Static Channel Snapshot" border="0" src="../../img/concepts/ScanDescription/ScanModuleTypes-StaticChannelValues.png"/></p><p>A static channel snapshot module defines a list of detector channels which are read once. The list is modifiable.</p><h3 id="AxisSnapshotDynamic">Axis Snapshot (Dynamic)</h3><p style="text-align: center;"><img class="eveImage" alt="Dynamic Axis Snapshot" title="Dynamic Axis Snapshot" border="0" src="../../img/concepts/ScanDescription/ScanModuleTypes-DynamicAxisPositions.png"/></p><p>A dynamic axis snapshot module records the current position of all axes found in the given device definition at the time of execution of the scan. The Editor shows a preview of all axes which would be considered if the scan would be executed right now.</p><h3 id="ChannelSnapshotDynamic">Channel Snapshot (Dynamic)</h3><p style="text-align: center;"><img class="eveImage" alt="Dynamic Channel Snapshot" title="Dynamic Channel Snapshot" border="0" src="../../img/concepts/ScanDescription/ScanModuleTypes-DynamicChannelValues.png"/></p><p>A dynamic channel snapshot module reads the value of all detector channels found in the given device definition at the time of execution of the scan. The Editor shows a preview of all channels which would be considered if the scan would be executed right now.</p></body></html>