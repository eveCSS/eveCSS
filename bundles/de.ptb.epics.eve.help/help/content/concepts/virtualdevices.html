<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>virtualdevices</title><link type="text/css" rel="stylesheet" href="PLUGINS_ROOT/de.ptb.epics.eve.help/help/css/help.css"/></head><body><h1 id="top" class="eveTopic|">Virtual Devices</h1><ol class="toc" style="list-style: circle;"><li><a href="#top">Virtual Devices</a><ol style="list-style: circle;"><li><a href="#VirtualMotorAxes">Virtual Motor Axes</a></li><li><a href="#VirtualDetectorChannels">Virtual Detector Channels</a></li></ol></li></ol><p>Virtual devices are devices which do not exist in reality. They just simulate a certain behavior. In eveCSS there are different types of virtual devices which are described in the following. A summary is given by the <a href="/help/topic/de.ptb.epics.eve.help/help/content/reference/virtualdevices.html">Virtual Devices Reference Page</a>.</p><h2 id="VirtualMotorAxes" class="eveTopic">Virtual Motor Axes</h2><p class="backToTop"><a href="#top">back to top</a></p><p>Instead of positions given by a translational/rotational movement by a physical device (or a heating/cooling process with temperatures) a virtual motor axis just emulates these positions with (calculated) values. Besides that there is no movement command send (and the delay until the axis has finished moving) there is no difference to a physical axis if used in a scan.   </p><h3 id="Counter" class="eveTopic">Counter</h3><p>A Counter&#8217;s behavior depends on the chosen <code>stepfunction</code>. An Add/Multiply Counter starts with the Start value, calculates the next values based upon the given <code>stepcount</code> / <code>stepfunction</code> and finishes with the stop value. The value is propagated the time it is calculated. You can think of a counter as a for loop.</p><p>It is also possible to use a counter in <code>file</code> / <code>positionlist</code> or <code>range</code> mode. Then the sequence of values are just the given values. Hence no values are calculated the (arrival) response will be almost immediate.</p><h3 id="secTimer" class="eveTopic">(sec) Timer</h3><p>When using the Timer the given values represent seconds, e.g. a Timer with stepfunction Add and the values start=2, stop=10, step=0.5 will wait 2 seconds then reports 2 as its first value, then waits half a second until reporting 2.5, waiting again half a second until reporting 3 ... and reports 10 as its last value (after 10 seconds).</p><p class="attention">Keep in mind that due to a lack of a real time system and the representation in double precision the values could deviate!</p><p style="text-align: center;"><img class="eveImage" alt="sec Timer value deviation due to double precision and lack of real time system" title="sec Timer value deviation due to double precision and lack of real time system" border="0" src="../../img/concepts/virtualdevices/secTimerDouble.png"/></p><h3 id="mSecTimer" class="eveTopic">mSec Timer</h3><p>The mSec Timer works like the Timer but the given values are (positive) integers interpreted as milliseconds.</p><p class="attention">Keep in mind that due to integer limitations the maximum duration of a scan using this timer is approximately 24 days.</p><p class="formula">T <sub>max</sub> = <i>Integer.MAX_VALUE</i> ms = (2 <sup>31</sup> - 1) ms = 2147483647 ms = 24.86 d  </p><h3 id="dateTimer" class="eveTopic">date Timer</h3><p>The date Timer defines the start and stop values as dates, the stepwidth as a duration (hours, minutes, seconds and milliseconds) and the stepcount as a double. In relative mode durations are used exclusively.</p><h2 id="VirtualDetectorChannels" class="eveTopic">Virtual Detector Channels</h2><p class="backToTop"><a href="#top">back to top</a></p><p>Virtual detector channels return calculated values instead of values received from remote devices. They can be used for instance to add &#8222;markers&#8221; to the data file, e.g. timestamps or the current scan module.</p><h3 id="SMCounter" class="eveTopic">SM-Counter</h3><p>SM-Counter counts the number of scan modules executed. A return value of <code>i</code> means that <code>i-1</code> scan modules were already executed and the <code>i</code>-th one is currently executed. Keep in mind that each execution is counted, i.e. a nested scan module is counted each time it is executed.</p><p>There are rumours that certain UI tools use this information to divide a scan into subplots.</p><h3 id="secTimer2" class="eveTopic">(sec) Timer</h3><p>The Timer returns the number of seconds (in double precision) elapsed since the start of the scan.</p><h3 id="msecTimer" class="eveTopic">msec Timer</h3><p>The msec Timer&#8217;s behavior is analog to the (sec) Timer. The only difference is that its unit is milliseconds and its data type is integer. </p><h3 id="dateTimer2" class="eveTopic">date Timer</h3><p>The date Timer channel returns a string containing a timestamp specified in ISO 8601. Its format is <code>YYYY-MM-DDThh:mm:ss.sTZD</code> (e.g. <code>2017-10-16T15:53:10.050+02:00</code>). For more information on ISO 8601 see <a href="https://www.iso.org/iso-8601-date-and-time-format.html" target="_blank">ISO 8601</a> (with costs) or <a href="https://www.w3.org/TR/NOTE-datetime" target="_blank">Date and Time Formats (W3C)</a>.  </p></body></html>